<HTML>
<HEAD>
<TITLE>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</TITLE>
<META name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P></P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Utilities<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch</A>.Utilities</H2>
<P></P><H3>Package Content</H3>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam1a7a3619874e8d43alBusS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus"
>SignalBus</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam21ddac4266e392bcsplayS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay"
>WatchDisplay</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam7c31dbc4b4d2490b.TimeS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time"
>Time</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam59cbe481e7712c82coderS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder"
>DisplayDecoder</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam6de65a165a7e8f1biggerS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger"
>AlarmTrigger</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica_StateGraph2.Exam28621db4f5b5e74aollerS.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController"
>WatchController</A>
</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SignalBus<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam1a7a3619874e8d43alBusI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.SignalBus"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.SignalBus</H2>
<P></P><H3>Information</H3>
Extends from Modelica.Icons.SignalBus (Icon for signal bus).
<P><H3>Contents</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>a</TD><TD>&nbsp;</TD></TR>
<TR><TD>b</TD><TD>&nbsp;</TD></TR>
<TR><TD>c</TD><TD>&nbsp;</TD></TR>
<TR><TD>d</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE WatchDisplay<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam21ddac4266e392bcsplayI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchDisplay"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.WatchDisplay</H2>
<P></P><H3>Information</H3>
<PRE></pre>
<p>Displays four large digits, one small digit and one two letter text according to signals provided through the IntegerInputs. The top IntegerInput defines the level of illumination of the display.</p>
<p><img src="../Images/StateGraph/Examples/WatchDisplay.png"/></p>
<p>Signal inputs are:</p>
<p><ul>
<li>Large digits, input at the bottom. Range: 0-9</li>
<li>Small digit, input at the right bottom. Range: 0-99</li>
<li>Textual Input, input at top right.  Range: 0-11. Signals are decoded as: 0 = &QUOT;&QUOT;, 1 = &QUOT;Mo&QUOT;, 2 = &QUOT;Tu&QUOT;, 3 = &QUOT;We&QUOT;, 4 = &QUOT;Th&QUOT;, 5 = &QUOT;Fr&QUOT;, 6 = &QUOT;Sa&QUOT;, 7 = &QUOT;Su&QUOT;, 8 = &QUOT;AM&QUOT;, 9 =&QUOT; PM&QUOT;, 10=&QUOT;Ch&QUOT;, 11 = &QUOT;SW&QUOT;.</li>
<li>Illumination level at the top. Range 0-2. Signals are decoded as: 0 - dark, 1 - normal, 2 - bright.</li>
</ul></p>
<pre></PRE><P></P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>precision</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>large_digit1</TD><TD>&nbsp;</TD></TR>
<TR><TD>small_digit</TD><TD>&nbsp;</TD></TR>
<TR><TD>text_digit</TD><TD>1 = Mo, 2 = Tu, 3 = We, 4 = Th, 5 = Fr, 6 = Sa, 7 = Su, 8 = AM, 9 = PM, 10 = Ch, 11 = SW</TD></TR>
<TR><TD>illumination</TD><TD> 0 = dark {0,95,191}, 1 = standard {127,191,255}, 2 = bright {159,223,223}</TD></TR>
<TR><TD>large_digit2</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit3</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit4</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Time<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam7c31dbc4b4d2490b.TimeI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.Time"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.Time</H2>
<P></P><H3>Information</H3>
<PRE></pre>
<p>Outputs a time integer signal depending on what mode the watch is currently in. As all four time signals, current time, time setting, alarm1 setting and alarm2 setting should be decoded in the exact same fashion, the output of Time is handled the same in DisplayDecoder. This model also contains the actual clock that makes one tick every second. when a user sets a new time, the discrete state in TriggeredAdd will be reset and the output will re-set to that value and continue ticking.</p>
<pre></PRE><P></P>

<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>signalBus</TD><TD>&nbsp;</TD></TR>
<TR><TD>y</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DisplayDecoder<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam59cbe481e7712c82coderI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.DisplayDecoder"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.DisplayDecoder</H2>
<P></P><H3>Information</H3>
<PRE></pre>
<p>Decodes a number of integer signals (input at the bottom) into six digits to be displayed on a LED display according to definition in the WatchDisplay. Depending on the selected mode, the signals are masked in order to show the chosen entity correctly.</p>
<pre></PRE><P></P>

<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>time_signal</TD><TD>Raw input signal</TD></TR>
<TR><TD>large_digit_1</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit_2</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit_3</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit_4</TD><TD>&nbsp;</TD></TR>
<TR><TD>small_digit</TD><TD>&nbsp;</TD></TR>
<TR><TD>text_digit</TD><TD>&nbsp;</TD></TR>
<TR><TD>time_mode</TD><TD>Raw input signal</TD></TR>
<TR><TD>date_mode</TD><TD>Raw input signal</TD></TR>
<TR><TD>year_mode</TD><TD>Raw input signal</TD></TR>
<TR><TD>stopwatch_mode</TD><TD>Raw input signal</TD></TR>
<TR><TD>day_signal</TD><TD>Raw input signal</TD></TR>
<TR><TD>date_signal</TD><TD>Raw input signal</TD></TR>
<TR><TD>year_signal</TD><TD>Raw input signal</TD></TR>
<TR><TD>stopwatch_signal</TD><TD>Raw input signal</TD></TR>
<TR><TD>mode_signal</TD><TD>Raw input signal</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE AlarmTrigger<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam6de65a165a7e8f1biggerI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.AlarmTrigger"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.AlarmTrigger</H2>
<P></P><H3>Information</H3>
<PRE></pre>
<p>Logic for deciding whether any alarm should sound. The logic is defined in D. Harel&apos;s paper (see reference on package level) as:</p>
<p><br/>T1 is the time set when alarm1 will sound.</p>
<p>T2 is the time set when alarm1 will sound.</p>
<p>P1 = alarm1 enabled <b>and</b> (alarm2 disabled <b>or</b> <b>not</b> T1 == T2)</p>
<p>P2 = alarm2 enabled <b>and</b> (alarm1 disabled <b>or</b> <b>not</b> T1 == T2)</p>
<p>P = alarm1 enabled <b>and</b> alarm2 enabled <b>and</b> T1 == T2</p>
<p><br/>Alarm 1 will beep when time becomes equal to T1 and P1 is true.</p>
<p>Alarm 2 will beep when time becomes equal to T2 and P2 is true.</p>
<p>Both alarms will beep when time becomes equal to T1 and P is true.</p>
<pre></PRE><P></P>

<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>alarm1_enabled</TD><TD>&nbsp;</TD></TR>
<TR><TD>alarm2_enabled</TD><TD>&nbsp;</TD></TR>
<TR><TD>T1</TD><TD>&nbsp;</TD></TR>
<TR><TD>T2</TD><TD>&nbsp;</TD></TR>
<TR><TD>P1</TD><TD>&nbsp;</TD></TR>
<TR><TD>P2</TD><TD>&nbsp;</TD></TR>
<TR><TD>P</TD><TD>&nbsp;</TD></TR>
<TR><TD>alarms_beep</TD><TD>&nbsp;</TD></TR>
<TR><TD>T_hits_T1</TD><TD>&nbsp;</TD></TR>
<TR><TD>T_hits_T2</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE WatchController<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica_StateGraph2.Exam28621db4f5b5e74aollerI.png" ALT="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities.WatchController"></A><A HREF="Modelica_StateGraph2_Examples_Applications_HarelsWristWatch_Utilities.html#Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities"
>Modelica_StateGraph2.Examples.Applications.HarelsWristWatch.Utilities</A>.WatchController</H2>
<P></P><H3>Information</H3>
<PRE></pre>
<p>The watch controller contains the clock functionality, gathering of stopwatch signals, time settings and modes from different parts of the wristwatch that are gathered, grouped together and finally decoded into outputs to the LED display.</p>
<pre></PRE><P></P>

<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>display_node</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit1</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit2</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit3</TD><TD>&nbsp;</TD></TR>
<TR><TD>large_digit4</TD><TD>&nbsp;</TD></TR>
<TR><TD>small_digit</TD><TD>&nbsp;</TD></TR>
<TR><TD>text_digit</TD><TD>&nbsp;</TD></TR>
</TABLE>
<address><a href="http://www.3ds.com/">Automatically generated</a> Tue Oct 01 16:04:22 2013.
</address></BODY>
</HTML>
